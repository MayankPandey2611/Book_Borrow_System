{% extends 'base.html' %}
{% load static %}
{% block title %}Books | Library Management{% endblock %}

{% block content %}
<div class="card p-4 mb-4 custom-card">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h4 class="text-light">ðŸ“š Books List</h4>
        <a href="{% url 'add_book' %}" class="btn btn-glow btn-sm" style="text-decoration: none;">Add Book</a>
    </div>

  
    <div class="table-responsive">
        <table class="table table-dark table-hover align-middle custom-table">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Author</th>
                    <th>Category</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for book in books %}
                <tr>
                    <td>{{ book.title }}</td>
                    <td>{{ book.author }}</td>
                    <td>{{ book.category }}</td>
                    <td>{{ book.status|yesno:"Available,Borrowed" }}</td>
                    <td>
                        <a href="{% url 'update_book' book.id %}" class="btn btn-glow-warning btn-sm" style="text-decoration: none;">Edit</a>
                        <a href="{% url 'delete_book' book.id %}" class="btn btn-glow-danger btn-sm" style="text-decoration: none;">Delete</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" class="text-center text-muted">No books found</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<!-- Optional Cards View -->
<div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-4">
    {% for book in books %}
    <div class="col">
        <div class="card h-100 shadow-lg custom-card">
            {% if book.image %}
                <img src="{{ book.image.url }}" class="card-img-top book-img" alt="{{ book.title }}">
            {% else %}
                <img src="{% static 'images/ramayan.jpg' %}" class="card-img-top book-img" alt="No image">
            {% endif %}
            <div class="card-body d-flex flex-column justify-content-between">
                <h5 class="card-title text-light">{{ book.title }}</h5>
                <a href="{% url 'borrow_book' book.id %}" class="btn btn-glow mt-auto" style="text-decoration: none;">Issue Book</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
